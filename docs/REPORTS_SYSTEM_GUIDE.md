# РУКОВОДСТВО ПО СИСТЕМЕ РАПОРТОВ

## Обзор

Система рапортов позволяет создавать и заполнять различные типы рапортов на основе шаблонов. Система интегрирована в основное приложение и доступна по адресу `/reports`.

## Доступ к системе

1. Войдите в систему с вашими учетными данными
2. Перейдите на страницу "Рапорты" в главном меню
3. В зависимости от вашей роли, вы увидите различные вкладки

## Для администраторов и руководителей

### Создание шаблона рапорта

1. Перейдите на вкладку "Управление"
2. Нажмите кнопку "Создать шаблон"
3. Заполните поля:
   - **Название шаблона** - краткое описание типа рапорта
   - **Департамент** - выберите департамент (необязательно)
   - **Тело шаблона** - используйте переменные в формате `{{ПЕРЕМЕННАЯ}}`

#### Пример шаблона:
```
РАПОРТ ОБ ИНЦИДЕНТЕ

Дата: {{ДАТА}}
Время: {{ВРЕМЯ}}
Место: {{МЕСТО_ПРОИСШЕСТВИЯ}}

Я, {{ДОЛЖНОСТЬ}} {{ИМЯ_ОФИЦЕРА}}, докладываю о происшествии.

ОПИСАНИЕ:
{{ОПИСАНИЕ_ИНЦИДЕНТА}}

ПРИНЯТЫЕ МЕРЫ:
{{ПРИНЯТЫЕ_МЕРЫ}}

Подпись: ____________ ({{ИМЯ_ОФИЦЕРА}})
```

### Редактирование шаблона

1. В списке шаблонов найдите нужный шаблон
2. Нажмите кнопку "Редактировать" (иконка карандаша)
3. Внесите изменения
4. Нажмите "Сохранить"

### Управление шаблонами

- **Просмотр** - нажмите кнопку "Просмотр" для предварительного просмотра
- **Активация/деактивация** - используйте переключатель статуса
- **Удаление** - нажмите кнопку "Удалить" (только для админов)

## Для всех пользователей

### Просмотр доступных шаблонов

1. Перейдите на вкладку "Шаблоны"
2. Используйте фильтры для поиска нужного шаблона:
   - Поиск по названию
   - Фильтр по департаменту
3. Нажмите "Просмотр" для предварительного просмотра шаблона

### Заполнение рапорта

1. Выберите подходящий шаблон
2. Нажмите кнопку "Заполнить"
3. Заполните все поля формы:
   - **Обязательные поля** отмечены красным значком
   - **Текстовые поля** для короткого ввода
   - **Текстовые области** для длинного описания
   - **Поля даты/времени** автоматически определяются
4. Просмотрите результат в правой панели
5. Используйте дополнительные функции:
   - **Копировать** - скопировать текст в буфер обмена
   - **Скачать** - сохранить рапорт в файл
   - **Отправить** - отправить рапорт на рассмотрение

### Управление своими рапортами

1. Перейдите на вкладку "Мои рапорты"
2. Просматривайте статус ваших рапортов:
   - **Черновик** - рапорт еще не отправлен
   - **Отправлен** - рапорт отправлен на рассмотрение
   - **Одобрен** - рапорт одобрен руководителем
   - **Отклонен** - рапорт отклонен с комментарием
3. Действия с рапортами:
   - **Просмотр** - просмотреть содержимое
   - **Скачать** - скачать рапорт в файл

## Типы полей

Система автоматически определяет тип поля на основе названия переменной:

- **Дата** - поля, содержащие слово "дата"
- **Время** - поля, содержащие слово "время"
- **Текстовая область** - поля для длинного описания (описание, обстоятельства, жалобы, осмотр, помощь, диагноз)
- **Текстовое поле** - все остальные поля

## Обязательные поля

Следующие поля автоматически считаются обязательными:
- Имя офицера
- Должность
- Дата
- Время
- Место происшествия
- ФИО пациента
- Возраст пациента
- Марка/модель
- Гос. номер
- Водитель
- Адрес пожара
- Руководитель тушения

## Советы по созданию шаблонов

1. **Используйте понятные названия переменных** - они будут отображаться пользователям
2. **Группируйте связанные поля** - это улучшит читаемость формы
3. **Добавьте примеры** - используйте комментарии в шаблоне
4. **Тестируйте шаблоны** - заполните тестовый рапорт перед публикацией

## Начальные шаблоны

Система включает 4 предустановленных шаблона:

1. **Рапорт об инциденте** - для общих происшествий
2. **Рапорт о ДТП** - для дорожно-транспортных происшествий
3. **Рапорт о пожаре** - для пожаров и возгораний
4. **Рапорт о медицинском событии** - для медицинских вызовов

## Поддержка

При возникновении проблем:
1. Проверьте, что все обязательные поля заполнены
2. Убедитесь, что у вас есть права доступа к нужным функциям
3. Обратитесь к администратору системы

## Безопасность

- Все рапорты сохраняются в базе данных
- Доступ к рапортам контролируется системой ролей
- Пользователи видят только свои рапорты
- Администраторы могут просматривать все рапорты
- Шаблоны доступны всем активным пользователям 